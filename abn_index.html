<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ABN Academia - Natação e Fitness</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Icons (Lucide) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- PDF Generation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>

    <!-- Configuração Tailwind e Estilos Personalizados -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              display: ['Montserrat', 'sans-serif'],
            },
            colors: {
              abn: {
                cyan: '#4FA3E0', 
                blue: '#2B72C4', 
                orange: '#FF6B00', 
                dark: '#1A202C',
                light: '#F7FAFC',
              }
            },
            keyframes: {
              fadeInUp: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              }
            },
            animation: {
              fadeInUp: 'fadeInUp 0.5s ease-out forwards',
              fadeIn: 'fadeIn 0.3s ease-out forwards',
            }
          }
        }
      }
    </script>
    <style>
      html { scroll-behavior: smooth; }
      
      .fade-up-element {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }
      .fade-up-element.is-visible {
        opacity: 1;
        transform: translateY(0);
      }
      
      .delay-100 { transition-delay: 100ms; }
      .delay-200 { transition-delay: 200ms; }
      .delay-300 { transition-delay: 300ms; }
      .delay-400 { transition-delay: 400ms; }
      .delay-500 { transition-delay: 500ms; }

      /* Esconde barra de rolagem mas mantém funcionalidade */
      .scrollbar-hide::-webkit-scrollbar {
          display: none;
      }
      .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
    "jspdf-autotable": "https://esm.sh/jspdf-autotable@^5.0.2",
    "jspdf": "https://esm.sh/jspdf@^3.0.4"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-800 antialiased">

    <!-- Navbar -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 py-4 bg-transparent">
        <div class="container mx-auto px-4 md:px-8 flex justify-between items-center">
            <!-- Logo -->
            <a href="#home" class="flex flex-col leading-none group hover:opacity-90 transition-opacity">
                <div class="flex items-center text-4xl font-display font-black tracking-tighter select-none">
                    <span class="text-abn-blue relative">A</span>
                    <span class="text-abn-orange -mx-1 z-10">B</span>
                    <span class="text-abn-blue">N</span>
                </div>
                <span class="text-abn-orange text-[0.6rem] md:text-[0.7rem] font-bold uppercase tracking-[0.25em] md:tracking-[0.35em] text-center -mt-1 md:-mt-1.5 ml-1">
                    academia
                </span>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-8">
                <a href="#home" class="nav-link text-sm font-semibold text-white hover:text-abn-orange transition-colors">Início</a>
                <a href="#activities" class="nav-link text-sm font-semibold text-white hover:text-abn-orange transition-colors">Modalidades</a>
                <button onclick="openModal('modal-infra')" class="nav-link text-sm font-semibold text-white hover:text-abn-orange transition-colors">Estrutura</button>
                <button onclick="openModal('modal-schedule')" class="nav-link text-sm font-semibold text-white hover:text-abn-orange transition-colors">Horários</button>
                <button onclick="openModal('modal-plans')" class="nav-link text-sm font-semibold text-white hover:text-abn-orange transition-colors">Planos</button>
                <button onclick="openModal('modal-contact')" class="nav-link text-sm font-semibold text-white hover:text-abn-orange transition-colors">Contato</button>
                
                <a href="https://wa.me/5521988300588" target="_blank" class="flex items-center gap-2 bg-abn-orange hover:bg-orange-600 text-white px-5 py-2.5 rounded-full font-bold text-sm transition-transform hover:scale-105 shadow-md">
                    <i data-lucide="phone" class="w-4 h-4"></i> Matricule-se
                </a>
            </div>

            <!-- Mobile Toggle -->
            <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-lg text-white" id="mobile-toggle">
                <i data-lucide="menu" class="w-7 h-7"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full bg-white shadow-xl md:hidden flex-col items-center py-6 gap-6 max-h-[85vh] overflow-y-auto">
            <a href="#home" onclick="toggleMobileMenu()" class="text-lg font-medium text-slate-800 hover:text-abn-blue">Início</a>
            <a href="#activities" onclick="toggleMobileMenu()" class="text-lg font-medium text-slate-800 hover:text-abn-blue">Modalidades</a>
            <button onclick="toggleMobileMenu(); openModal('modal-infra')" class="text-lg font-medium text-slate-800 hover:text-abn-blue">Estrutura</button>
            <button onclick="toggleMobileMenu(); openModal('modal-schedule')" class="text-lg font-medium text-slate-800 hover:text-abn-blue">Horários</button>
            <button onclick="toggleMobileMenu(); openModal('modal-plans')" class="text-lg font-medium text-slate-800 hover:text-abn-blue">Planos</button>
            <button onclick="toggleMobileMenu(); openModal('modal-contact')" class="text-lg font-medium text-slate-800 hover:text-abn-blue">Contato</button>
            <a href="https://wa.me/5521988300588" target="_blank" class="bg-abn-orange text-white px-8 py-3 rounded-full font-bold shadow-lg">Fale no WhatsApp</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative h-screen w-full overflow-hidden flex items-center justify-center bg-slate-900">
        <!-- Slides will be injected by JS -->
        <div id="hero-slider-container" class="absolute inset-0 z-0"></div>

        <div class="container mx-auto px-4 relative z-10 pt-20">
            <div class="max-w-3xl text-white">
                <div class="inline-flex items-center gap-2 bg-abn-cyan/20 backdrop-blur-sm border border-abn-cyan/30 px-4 py-1.5 rounded-full mb-6 animate-fadeInUp">
                    <i data-lucide="waves" class="text-abn-cyan w-4 h-4"></i>
                    <span class="text-sm font-semibold tracking-wide uppercase text-cyan-100">Especialistas em Natação</span>
                </div>
                <h1 class="text-5xl md:text-7xl font-display font-black leading-tight mb-6 animate-fadeInUp delay-100">
                    Mergulhe na sua <br />
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-abn-cyan to-white">melhor versão.</span>
                </h1>
                <p class="text-lg md:text-xl text-slate-100 mb-8 max-w-xl leading-relaxed animate-fadeInUp delay-200 drop-shadow-md">
                    A ABN Academia oferece uma estrutura completa para você e sua família. Da natação infantil às artes marciais, aqui seu bem-estar é prioridade.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 animate-fadeInUp delay-300">
                    <a href="#contact" class="bg-abn-orange hover:bg-orange-600 text-white px-8 py-4 rounded-full font-bold text-lg transition-all hover:scale-105 flex items-center justify-center gap-2 shadow-lg shadow-orange-500/30">
                        Começar Agora <i data-lucide="arrow-right" class="w-5 h-5"></i>
                    </a>
                    <a href="#activities" class="bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/30 text-white px-8 py-4 rounded-full font-bold text-lg transition-all flex items-center justify-center">
                        Conhecer Modalidades
                    </a>
                </div>
            </div>
        </div>
        <!-- Indicators -->
        <div id="hero-indicators" class="absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-20"></div>
    </section>

    <!-- Activities Section -->
    <section id="activities" class="py-20 md:py-28 bg-white relative">
        <div class="container mx-auto px-4">
            <div class="text-center max-w-3xl mx-auto mb-16 fade-up-element">
                <h2 class="text-abn-blue font-bold tracking-wider uppercase text-sm mb-3">O que oferecemos</h2>
                <h3 className="text-4xl md:text-5xl font-display font-black text-slate-900 mb-6 text-3xl md:text-5xl font-black">
                    Mais que uma academia, <br /> um centro de saúde.
                </h3>
                <p class="text-slate-600 text-lg">
                    Nossa metodologia foca no desenvolvimento integral, desde o aprendizado da natação até o alto rendimento nos treinos de força.
                </p>
            </div>
            
            <!-- Grid Container -->
            <div id="activities-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Items injected by JS -->
            </div>
        </div>
    </section>

    <!-- Infrastructure Preview -->
    <section id="infrastructure" class="py-20 bg-abn-light overflow-hidden">
        <div class="container mx-auto px-4">
             <div class="text-center max-w-3xl mx-auto mb-16 fade-up-element">
                <h2 class="text-abn-blue font-bold tracking-wider uppercase text-sm mb-3">Nossa Estrutura</h2>
                <h3 class="text-3xl md:text-5xl font-display font-black text-slate-900 mb-6">
                    Conforto e tecnologia <br /> para seu treino.
                </h3>
                <p class="text-slate-600 text-lg mb-8">
                    Ambientes climatizados, equipamentos modernos e a melhor piscina da região.
                </p>
                <button onclick="openModal('modal-infra')" class="inline-flex items-center gap-2 bg-white text-abn-blue border border-slate-200 px-6 py-3 rounded-full font-bold hover:bg-slate-50 transition-colors shadow-sm">
                    <i data-lucide="grid" class="w-4 h-4"></i> Ver Galeria Completa
                </button>
             </div>

             <!-- Carousel -->
             <div class="relative max-w-5xl mx-auto fade-up-element group rounded-3xl overflow-hidden shadow-2xl aspect-video md:aspect-[21/9]">
                <div id="infra-slider-container" class="relative w-full h-full"></div>
                
                <button onclick="prevInfraSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/30 backdrop-blur-md rounded-full text-white transition-all opacity-0 group-hover:opacity-100 z-20">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <button onclick="nextInfraSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/30 backdrop-blur-md rounded-full text-white transition-all opacity-0 group-hover:opacity-100 z-20">
                    <i data-lucide="chevron-right" class="w-6 h-6"></i>
                </button>
             </div>
        </div>
    </section>

    <!-- Schedule Preview -->
    <section id="schedule" class="py-20 bg-white relative overflow-hidden">
        <!-- Background Circles -->
        <div class="absolute top-0 left-0 w-64 h-64 bg-abn-cyan/5 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-abn-blue/5 rounded-full translate-x-1/3 translate-y-1/3"></div>

        <div class="container mx-auto px-4 relative z-10">
            <div class="flex flex-col md:flex-row md:items-end justify-between mb-8 gap-6">
                <div class="max-w-xl">
                    <h2 class="text-abn-orange font-bold tracking-wider uppercase text-sm mb-2">Grade de Horários</h2>
                    <h3 class="text-3xl md:text-4xl font-display font-black text-slate-900">Planeje sua semana de treinos</h3>
                </div>
                <!-- Day Selectors (Preview) -->
                <div class="flex flex-wrap gap-2" id="preview-schedule-days"></div>
            </div>

            <div class="flex justify-end mb-6">
                <button onclick="openModal('modal-schedule')" class="bg-white hover:bg-slate-50 text-abn-blue border border-slate-200 px-6 py-3 rounded-2xl font-bold flex items-center justify-center gap-2 transition-colors whitespace-nowrap shadow-sm">
                    <i data-lucide="calendar" class="w-4 h-4"></i> Ver Grade Completa
                </button>
            </div>

            <!-- Preview List -->
            <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100 min-h-[300px]">
                <div class="divide-y divide-slate-100" id="preview-schedule-list">
                    <!-- Injected via JS -->
                </div>
            </div>
        </div>
    </section>

    <!-- Plans Section -->
    <section id="plans" class="py-20 md:py-28 bg-slate-50 relative">
        <div class="container mx-auto px-4">
            <div class="text-center max-w-3xl mx-auto mb-16 fade-up-element">
                <h2 class="text-abn-blue font-bold tracking-wider uppercase text-sm mb-3">Nossos Planos</h2>
                <h3 class="text-3xl md:text-5xl font-display font-black text-slate-900 mb-6">Invista em você com <br /> preços acessíveis.</h3>
                <p class="text-slate-600 text-lg">Escolha a modalidade que melhor se adapta ao seu estilo de vida.</p>
            </div>

            <div id="plans-container" class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto items-center mb-12">
                <!-- Plans injected via JS -->
            </div>

            <div class="text-center mb-16 fade-up-element">
                <button onclick="openModal('modal-plans')" class="inline-flex items-center gap-2 text-abn-blue font-bold border-b-2 border-abn-blue/20 hover:border-abn-blue pb-1 transition-all">
                    <i data-lucide="file-text" class="w-4 h-4"></i> Ver comparativo completo e contratos
                </button>
            </div>

            <!-- FAQ Section (Accordion) -->
            <div class="max-w-3xl mx-auto fade-up-element">
                <h3 class="text-2xl font-bold text-center text-slate-800 mb-10 flex items-center justify-center gap-2">
                    <i data-lucide="help-circle" class="text-abn-cyan w-6 h-6"></i> Perguntas Frequentes
                </h3>
                <div class="space-y-4" id="faq-container">
                    <!-- FAQs Injected by JS -->
                </div>
            </div>
        </div>
    </section>

    <!-- Footer / Contact -->
    <footer id="contact" class="bg-abn-dark text-slate-300 pt-20 pb-10">
        <div class="container mx-auto px-4">
             <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20 border-b border-slate-700 pb-12">
                <div class="bg-gradient-to-br from-abn-blue to-blue-900 rounded-3xl p-8 md:p-12 text-white relative overflow-hidden">
                    <div class="relative z-10">
                        <h3 class="text-3xl font-display font-black mb-4">Pronto para começar?</h3>
                        <p class="mb-8 text-blue-100 max-w-md">Agende uma aula experimental gratuita ou utilize seu GymPass para conhecer nossa estrutura.</p>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <a href="https://wa.me/5521988300588" target="_blank" class="bg-abn-orange hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center gap-2 transition-colors">
                                <i data-lucide="message-circle" class="w-5 h-5"></i> Chamar no WhatsApp
                            </a>
                            <div class="flex items-center gap-2 px-4 py-2 bg-white/10 rounded-xl border border-white/20">
                                <span class="text-xs font-bold uppercase tracking-wider">Aceitamos</span>
                                <span class="font-black text-xl text-white">GYMPASS</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- News Feed (Static) -->
                <div>
                    <div class="flex items-center justify-between mb-6">
                        <h4 class="text-xl font-bold text-white">Últimas Notícias</h4>
                    </div>
                    <div class="space-y-4">
                        <div class="flex gap-4 p-4 rounded-xl bg-slate-800/50 border border-slate-700">
                            <div class="flex-shrink-0 w-16 h-16 bg-slate-700 rounded-lg flex flex-col items-center justify-center text-center">
                                <span class="text-xs font-bold text-slate-400">NOV</span>
                                <span class="text-lg font-bold text-white">17</span>
                            </div>
                            <div>
                                <h5 class="font-bold text-slate-100 mb-1">Novo Horário de Bike Indoor</h5>
                                <p class="text-sm text-slate-400">Confira a nova grade de horários para as aulas noturnas.</p>
                            </div>
                        </div>
                         <div class="flex gap-4 p-4 rounded-xl bg-slate-800/50 border border-slate-700">
                            <div class="flex-shrink-0 w-16 h-16 bg-slate-700 rounded-lg flex flex-col items-center justify-center text-center">
                                <span class="text-xs font-bold text-slate-400">OUT</span>
                                <span class="text-lg font-bold text-white">15</span>
                            </div>
                            <div>
                                <h5 class="font-bold text-slate-100 mb-1">Festival de Natação Infantil</h5>
                                <p class="text-sm text-slate-400">Venha prestigiar nossos pequenos nadadores no próximo sábado.</p>
                            </div>
                        </div>
                    </div>
                </div>
             </div>
             
             <div class="border-t border-slate-800 pt-8 text-center text-xs text-slate-500">
                 <p>&copy; 2024 ABN Academia. Todos os direitos reservados.</p>
             </div>
        </div>
    </footer>


    <!-- ================= MODALS ================= -->

    <!-- Modal: Activity Details -->
    <div id="modal-activity" class="fixed inset-0 z-[60] flex flex-col bg-slate-50 overflow-y-auto hidden animate-fadeIn">
        <div class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-100 px-6 py-4 flex justify-between items-center shadow-sm">
            <div class="flex items-center gap-3">
                <div class="p-2 bg-abn-blue/10 rounded-lg text-abn-blue" id="modal-act-icon-container"></div>
                <h2 class="text-xl font-display font-black text-slate-800" id="modal-act-title"></h2>
            </div>
            <button onclick="closeModal('modal-activity')" class="p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-600"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        <div class="relative h-[40vh] w-full shrink-0">
            <img id="modal-act-image" src="" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent opacity-80"></div>
            <div class="absolute bottom-0 left-0 w-full p-6 md:p-12 text-white container mx-auto">
                 <p id="modal-act-desc" class="text-lg md:text-xl text-slate-200 max-w-2xl drop-shadow-md border-l-4 border-abn-orange pl-4"></p>
            </div>
        </div>
        <div class="container mx-auto px-4 py-12 max-w-5xl">
             <div class="flex flex-col lg:flex-row gap-12">
                <div class="lg:w-2/3 space-y-8">
                     <h3 class="text-2xl font-bold text-slate-800 mb-4">Sobre a Modalidade</h3>
                     <p id="modal-act-full-desc" class="text-slate-600 leading-relaxed text-lg text-justify"></p>
                     
                     <!-- Dynamic Gallery could go here -->
                     <div id="modal-act-faq-container" class="space-y-4 pt-8 border-t border-slate-200">
                        <h3 class="text-2xl font-bold text-slate-800">Dúvidas Frequentes</h3>
                        <!-- Injected JS -->
                     </div>
                </div>
                <div class="lg:w-1/3 space-y-8">
                    <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-lg sticky top-24">
                        <h4 class="font-bold text-slate-800 uppercase tracking-wider text-sm mb-6 pb-4 border-b border-slate-100">Benefícios</h4>
                        <div id="modal-act-benefits" class="grid grid-cols-1 gap-4 mb-8"></div>
                        <button onclick="closeModal('modal-activity'); openModal('modal-schedule')" class="w-full bg-abn-blue hover:bg-blue-700 text-white py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-2 mb-3">
                            Ver na Grade
                        </button>
                        <a href="https://wa.me/5521988300588" target="_blank" class="w-full bg-slate-100 hover:bg-slate-200 text-abn-dark py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-2">
                            Tirar Dúvidas
                        </a>
                    </div>
                </div>
             </div>
        </div>
    </div>

    <!-- Modal: Detailed Schedule -->
    <div id="modal-schedule" class="fixed inset-0 z-[70] bg-slate-50 flex flex-col hidden animate-fadeIn overflow-hidden">
        <div class="bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm shrink-0">
             <div class="flex items-center gap-3">
                 <div class="p-2 bg-abn-orange/10 rounded-lg text-abn-orange"><i data-lucide="calendar" class="w-6 h-6"></i></div>
                 <div>
                    <h2 class="text-xl font-display font-black text-slate-800">Grade Completa</h2>
                    <p class="text-xs text-slate-500 font-medium mt-1">Consulte horários e detalhes</p>
                 </div>
             </div>
             <div class="flex items-center gap-3">
                 <button onclick="downloadPDF()" class="hidden md:flex items-center gap-2 px-4 py-2 text-sm font-bold text-slate-600 hover:text-abn-blue border border-slate-200 rounded-lg hover:bg-slate-50">
                    <i data-lucide="download" class="w-4 h-4"></i> Baixar PDF
                 </button>
                 <button onclick="closeModal('modal-schedule')" class="p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-600"><i data-lucide="x" class="w-6 h-6"></i></button>
             </div>
        </div>
        
        <div class="flex flex-1 overflow-hidden">
            <!-- Sidebar Desktop -->
            <div class="hidden md:flex flex-col w-64 bg-white border-r border-slate-200 overflow-y-auto p-6">
                <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4">Dias</h3>
                <div class="space-y-2" id="schedule-days-sidebar"></div>
                <div class="mt-auto pt-6 text-xs text-slate-400">Chegue com 10 min de antecedência.</div>
            </div>

            <!-- Main Content -->
            <div class="flex-1 flex flex-col h-full overflow-hidden">
                <!-- Mobile Days -->
                <div class="md:hidden overflow-x-auto whitespace-nowrap p-4 bg-white border-b border-slate-100 scrollbar-hide" id="schedule-days-mobile"></div>
                
                <!-- Filters -->
                <div class="px-6 py-4 bg-white/50 backdrop-blur-sm flex flex-col sm:flex-row justify-between items-center gap-4 border-b border-slate-100 shrink-0">
                    <div class="flex gap-2 w-full sm:w-auto overflow-x-auto" id="schedule-filters">
                        <button onclick="setScheduleFilter('all')" class="filter-btn active px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide bg-slate-800 text-white" data-filter="all">Todas</button>
                        <button onclick="setScheduleFilter('pool')" class="filter-btn px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide bg-white border text-slate-500" data-filter="pool">Piscina</button>
                        <button onclick="setScheduleFilter('fitness')" class="filter-btn px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide bg-white border text-slate-500" data-filter="fitness">Fitness</button>
                        <button onclick="setScheduleFilter('fight')" class="filter-btn px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide bg-white border text-slate-500" data-filter="fight">Lutas</button>
                    </div>
                </div>

                <!-- List -->
                <div class="flex-1 overflow-y-auto p-4 md:p-8">
                     <div class="max-w-4xl mx-auto">
                        <h3 class="text-2xl font-display font-bold text-slate-800 mb-6 flex items-center gap-2">
                            <span id="schedule-active-day-title">Segunda</span>
                        </h3>
                        <div id="schedule-detailed-list" class="grid grid-cols-1 gap-4"></div>
                     </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Infra -->
    <div id="modal-infra" class="fixed inset-0 z-[70] bg-slate-50 flex flex-col hidden animate-fadeIn overflow-hidden">
        <div class="bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm shrink-0">
            <h2 class="text-xl font-display font-black text-slate-800">Nossa Estrutura</h2>
            <button onclick="closeModal('modal-infra')" class="p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-600"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        <div class="flex-1 overflow-y-auto p-4">
             <div class="container mx-auto max-w-6xl py-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="infra-gallery-grid"></div>
             </div>
        </div>
    </div>
    
    <!-- Modal: Plans -->
    <div id="modal-plans" class="fixed inset-0 z-[70] bg-slate-50 flex flex-col hidden animate-fadeIn overflow-hidden">
         <div class="bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm shrink-0">
            <h2 class="text-xl font-display font-black text-slate-800">Planos Detalhados</h2>
            <button onclick="closeModal('modal-plans')" class="p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-600"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        <div class="flex-1 overflow-y-auto p-4">
             <div class="container mx-auto max-w-6xl py-8" id="detailed-plans-container"></div>
             <!-- Extra Financial FAQs -->
             <div class="container mx-auto max-w-4xl bg-white p-6 rounded-2xl shadow-sm border border-slate-200 mt-8">
                <h3 class="font-bold text-lg mb-4">Dúvidas Financeiras</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="bg-slate-50 p-3 rounded-lg"><strong class="block mb-1">Taxa de matrícula?</strong> Sim, R$ 50,00 (inclui avaliação).</div>
                    <div class="bg-slate-50 p-3 rounded-lg"><strong class="block mb-1">GymPass?</strong> Aceitamos a partir do Basic+.</div>
                    <div class="bg-slate-50 p-3 rounded-lg"><strong class="block mb-1">Cancelamento?</strong> Sem multa com aviso prévio de 30 dias.</div>
                </div>
             </div>
        </div>
    </div>

    <!-- Modal: Contact -->
    <div id="modal-contact" class="fixed inset-0 z-[70] bg-slate-50 flex flex-col hidden animate-fadeIn overflow-hidden">
        <div class="bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm shrink-0">
            <h2 class="text-xl font-display font-black text-slate-800">Fale Conosco</h2>
            <button onclick="closeModal('modal-contact')" class="p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-600"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        <div class="flex-1 overflow-y-auto p-4">
            <div class="container mx-auto max-w-4xl py-12 grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-3xl shadow-lg">
                    <h3 class="text-2xl font-bold mb-6">Informações</h3>
                    <div class="space-y-6">
                        <div><strong class="block text-slate-700">Endereço</strong> <span class="text-slate-500">Rua Monsenhor Jerônimo, 248, Engenho de Dentro</span></div>
                        <div><strong class="block text-slate-700">WhatsApp</strong> <span class="text-slate-500">021-9883-00588</span></div>
                        <div><strong class="block text-slate-700">Email</strong> <span class="text-slate-500">abnacademia@gmail.com</span></div>
                    </div>
                </div>
                <!-- Embed Google Maps -->
                <div class="h-80 rounded-3xl overflow-hidden shadow-lg border border-slate-100 bg-slate-200">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3675.876798836519!2d-43.29854492376483!3d-22.89439653846664!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x997d0251755555%3A0x6b8f352136e0f1e8!2sR.%20Monsenhor%20Jer%C3%B4nimo%2C%20248%20-%20Engenho%20de%20Dentro%2C%20Rio%20de%20Janeiro%20-%20RJ%2C%2020735-080!5e0!3m2!1spt-BR!2sbr!4v1715000000000!5m2!1spt-BR!2sbr" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
        </div>
    </div>


    <!-- ================= JAVASCRIPT LOGIC ================= -->
    <script>
        // --- DATA CONSTANTS ---
        const ACTIVITIES = [
            { id: 'swimming', title: 'Natação', description: 'Especialidade da casa. Aulas para bebês, crianças e adultos.', image: 'https://images.unsplash.com/photo-1600965962102-9d260a71890d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'waves', fullDescription: 'Nossa natação é referência na região. Contamos com uma piscina semi-olímpica, aquecida e tratada com sal (ozônio).', benefits: ['Melhora cardiorrespiratória', 'Zero impacto', 'Reduz estresse'], faq: [{q: 'Temp da piscina?', a: '29-30 graus.'}, {q: 'Idade?', a: 'A partir de 6 meses.'}] },
            { id: 'aquagym', title: 'Hidroginástica', description: 'Exercícios de baixo impacto na água.', image: 'https://images.unsplash.com/photo-1574680096145-d05b474e2155?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'droplets', fullDescription: 'Atividade vibrante e divertida utilizando a resistência da água.', benefits: ['Baixo risco de lesões', 'Melhora circulação', 'Socialização'] },
            { id: 'gym', title: 'Musculação', description: 'Equipamentos modernos e instrutores qualificados.', image: 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'dumbbell', fullDescription: 'Área de musculação projetada para resultados com professores no salão.', benefits: ['Hipertrofia', 'Metabolismo acelerado', 'Prevenção de lesões'] },
            { id: 'bike', title: 'Bike Indoor', description: 'Aulas de ciclismo indoor de alta intensidade.', image: 'https://images.unsplash.com/photo-1594737625785-a6cbdabd333c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'bike', fullDescription: 'Aulas simulando percursos de rua com muita música.', benefits: ['Alto gasto calórico', 'Fortalecimento de pernas', 'Fôlego'] },
            { id: 'fights', title: 'Lutas', description: 'Jiu-Jitsu, Muay Thai e defesa pessoal.', image: 'https://images.unsplash.com/photo-1599058945522-28d584b6f0ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'swords', fullDescription: 'Disciplina e técnica com mestres graduados.', benefits: ['Defesa pessoal', 'Disciplina', 'Definição muscular'] },
            { id: 'pilates', title: 'Pilates', description: 'Fortalecimento do core e flexibilidade.', image: 'https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'sparkles', fullDescription: 'Estúdio completo com aparelhos clássicos.', benefits: ['Postura', 'Tonificação', 'Flexibilidade'] },
            { id: 'coletivas', title: 'Coletivas', description: 'Ritmos, Jump e Local.', image: 'https://images.unsplash.com/photo-1571902943202-507ec2618e8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'users', fullDescription: 'Energia do grupo para te motivar.', benefits: ['Motivação', 'Diversão', 'Coordenação'] },
            { id: 'personal', title: 'Personal', description: 'Atendimento exclusivo.', image: 'https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80', icon: 'user-check', fullDescription: 'Acompanhamento minucioso para metas específicas.', benefits: ['Treino customizado', 'Segurança', 'Resultados rápidos'] }
        ];

        const SCHEDULE = [
            { day: 'Segunda', classes: [{ time: '06:00', activity: 'Natação Adulto', instructor: 'Prof. Carlos' }, { time: '07:00', activity: 'Musculação' }, { time: '08:00', activity: 'Hidroginástica' }, { time: '19:00', activity: 'Jiu-Jitsu' }] },
            { day: 'Terça', classes: [{ time: '06:00', activity: 'Musculação' }, { time: '09:00', activity: 'Natação Infantil' }, { time: '18:30', activity: 'Muay Thai' }] },
            { day: 'Quarta', classes: [{ time: '06:00', activity: 'Natação Adulto' }, { time: '08:00', activity: 'Hidroginástica' }, { time: '19:30', activity: 'Jiu-Jitsu' }] },
            { day: 'Quinta', classes: [{ time: '06:00', activity: 'Musculação' }, { time: '09:00', activity: 'Natação Infantil' }] },
            { day: 'Sexta', classes: [{ time: '06:00', activity: 'Natação Adulto' }, { time: '18:00', activity: 'Bike Indoor' }] },
            { day: 'Sábado', classes: [{ time: '09:00', activity: 'Natação Livre' }, { time: '10:00', activity: 'Musculação' }] }
        ];

        const PLANS = [
            { id: 'musculacao', title: 'Musculação', price: '99,90', period: 'mensal', details: 'Acesso completo à área de pesos.', features: ['Acesso livre', 'Sem restrição de horários', 'Avaliação trimestral'], highlight: false },
            { id: 'natacao', title: 'Natação', price: '189,90', period: 'mensal', details: 'Aprenda a nadar na melhor piscina.', features: ['2x por semana', 'Piscina salinizada', 'Vestiários exclusivos'], highlight: false },
            { id: 'vip', title: 'Passaporte VIP', price: '249,90', period: 'mensal', details: 'Acesso total a tudo.', features: ['Musculação + Natação', 'Lutas inclusas', 'Hidroginástica ilimitada', 'Convite mensal'], highlight: true }
        ];
        
        const PLANS_FAQ = [
            { q: 'Qual a diferença entre os planos?', a: 'A principal diferença está no acesso às modalidades. O plano Musculação foca em treino de força, Natação é específico (2x/semana), e o VIP oferece acesso ilimitado a tudo.' },
            { q: 'Posso mudar de plano?', a: 'Sim! Upgrade ou downgrade a qualquer momento na recepção.' },
            { q: 'Formas de pagamento?', a: 'Crédito (recorrência), débito, dinheiro, PIX e GymPass (Basic+).' },
            { q: 'Taxa de matrícula?', a: 'Sim, consulte condições promocionais na recepção.' }
        ];

        const HERO_IMAGES = [
            'https://images.unsplash.com/photo-1576678927484-cc907957088c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
            'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
            'https://images.unsplash.com/photo-1534258936925-c48947387603?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80'
        ];
        
        const INFRA_IMAGES = [
            { url: 'https://images.unsplash.com/photo-1576678927484-cc907957088c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80', title: 'Piscina', desc: 'Aquecida' },
            { url: 'https://images.unsplash.com/photo-1593079831268-3381b0db4a77?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80', title: 'Musculação', desc: 'Moderna' },
            { url: 'https://images.unsplash.com/photo-1596357395217-80de13130e92?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80', title: 'Vestiários', desc: 'Conforto' },
            { url: 'https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80', title: 'Pilates', desc: 'Climatizado' }
        ];

        // --- STATE VARIABLES ---
        let currentHeroSlide = 0;
        let currentInfraSlide = 0;
        let activeScheduleDay = 'Segunda';
        let activeScheduleFilter = 'all';

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            initHero();
            renderActivities();
            initInfra();
            renderSchedulePreview();
            renderPlans();
            renderPlansFAQ();
            renderInfrastructureGallery();
            
            // Navbar Scroll Effect
            window.addEventListener('scroll', () => {
                const nav = document.getElementById('navbar');
                if (window.scrollY > 50) {
                    nav.classList.add('bg-white', 'shadow-lg', 'py-2');
                    nav.classList.remove('bg-transparent', 'py-4');
                    // Update text colors for visibility on white
                    document.querySelectorAll('.nav-link').forEach(l => {
                        l.classList.remove('text-white');
                        l.classList.add('text-slate-700');
                    });
                    document.getElementById('mobile-toggle').classList.remove('text-white');
                    document.getElementById('mobile-toggle').classList.add('text-slate-800');
                } else {
                    nav.classList.remove('bg-white', 'shadow-lg', 'py-2');
                    nav.classList.add('bg-transparent', 'py-4');
                    document.querySelectorAll('.nav-link').forEach(l => {
                        l.classList.add('text-white');
                        l.classList.remove('text-slate-700');
                    });
                    document.getElementById('mobile-toggle').classList.add('text-white');
                    document.getElementById('mobile-toggle').classList.remove('text-slate-800');
                }
                
                // Fade Up Animation Trigger
                const elements = document.querySelectorAll('.fade-up-element');
                elements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    if(rect.top < window.innerHeight - 100) {
                        el.classList.add('is-visible');
                    }
                });
            });
        });

        // --- CORE FUNCTIONS ---

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('flex');
        }

        // Hero Slider
        function initHero() {
            const container = document.getElementById('hero-slider-container');
            const indicators = document.getElementById('hero-indicators');
            
            HERO_IMAGES.forEach((img, idx) => {
                const div = document.createElement('div');
                div.className = `absolute inset-0 transition-opacity duration-1000 ease-in-out ${idx === 0 ? 'opacity-100' : 'opacity-0'}`;
                div.id = `hero-slide-${idx}`;
                div.innerHTML = `<img src="${img}" class="w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-r from-abn-blue/90 via-abn-blue/60 to-black/20"></div>`;
                container.appendChild(div);

                const dot = document.createElement('button');
                dot.className = `h-1.5 rounded-full transition-all duration-500 ${idx === 0 ? 'w-8 bg-abn-orange' : 'w-2 bg-white/40'}`;
                dot.id = `hero-dot-${idx}`;
                dot.onclick = () => setHeroSlide(idx);
                indicators.appendChild(dot);
            });

            setInterval(() => {
                setHeroSlide((currentHeroSlide + 1) % HERO_IMAGES.length);
            }, 6000);
        }

        function setHeroSlide(index) {
            document.getElementById(`hero-slide-${currentHeroSlide}`).classList.remove('opacity-100');
            document.getElementById(`hero-slide-${currentHeroSlide}`).classList.add('opacity-0');
            document.getElementById(`hero-dot-${currentHeroSlide}`).classList.remove('w-8', 'bg-abn-orange');
            document.getElementById(`hero-dot-${currentHeroSlide}`).classList.add('w-2', 'bg-white/40');

            currentHeroSlide = index;

            document.getElementById(`hero-slide-${currentHeroSlide}`).classList.add('opacity-100');
            document.getElementById(`hero-slide-${currentHeroSlide}`).classList.remove('opacity-0');
            document.getElementById(`hero-dot-${currentHeroSlide}`).classList.add('w-8', 'bg-abn-orange');
            document.getElementById(`hero-dot-${currentHeroSlide}`).classList.remove('w-2', 'bg-white/40');
        }

        // Activities
        function renderActivities() {
            const grid = document.getElementById('activities-grid');
            grid.innerHTML = ACTIVITIES.map((act, idx) => `
                <div onclick="openActivityModal('${act.id}')" class="group relative rounded-3xl overflow-hidden shadow-lg h-80 cursor-pointer hover:-translate-y-2 transition-transform duration-300 fade-up-element" style="transition-delay: ${idx * 100}ms">
                    <img src="${act.image}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 bg-gradient-to-t from-abn-blue/90 via-transparent to-transparent"></div>
                    <div class="absolute inset-0 p-6 flex flex-col justify-end">
                        <div class="bg-white/10 backdrop-blur-md w-12 h-12 rounded-2xl flex items-center justify-center text-white mb-3">
                           <i data-lucide="${act.icon}" class="w-6 h-6"></i>
                        </div>
                        <h4 class="text-xl font-bold text-white mb-1">${act.title}</h4>
                        <p class="text-slate-200 text-xs opacity-0 group-hover:opacity-100 transition-opacity">${act.description}</p>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        // Infra Carousel
        function initInfra() {
            renderInfraSlide();
            setInterval(nextInfraSlide, 5000);
        }

        function renderInfraSlide() {
            const container = document.getElementById('infra-slider-container');
            container.innerHTML = INFRA_IMAGES.map((img, idx) => `
                <div class="absolute inset-0 transition-opacity duration-700 ${idx === currentInfraSlide ? 'opacity-100 z-10' : 'opacity-0 z-0'}">
                    <img src="${img.url}" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-8 text-white">
                        <h4 class="text-2xl font-bold mb-1">${img.title}</h4>
                        <p class="text-slate-300 flex items-center gap-1"><i data-lucide="map-pin" class="w-4 h-4 text-abn-cyan"></i> ${img.desc}</p>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function nextInfraSlide() {
            currentInfraSlide = (currentInfraSlide + 1) % INFRA_IMAGES.length;
            renderInfraSlide();
        }
        function prevInfraSlide() {
            currentInfraSlide = (currentInfraSlide - 1 + INFRA_IMAGES.length) % INFRA_IMAGES.length;
            renderInfraSlide();
        }

        // Schedule Logic
        function renderSchedulePreview() {
            const daysContainer = document.getElementById('preview-schedule-days');
            const listContainer = document.getElementById('preview-schedule-list');
            
            // Days Buttons
            daysContainer.innerHTML = SCHEDULE.map(d => `
                <button onclick="setActivePreviewDay('${d.day}')" class="px-5 py-2 rounded-full font-bold text-sm transition-all ${d.day === activeScheduleDay ? 'bg-abn-blue text-white shadow-lg' : 'bg-white text-slate-500 border border-slate-200'}">
                    ${d.day}
                </button>
            `).join('');

            // List
            const activeData = SCHEDULE.find(s => s.day === activeScheduleDay);
            if(activeData) {
                listContainer.innerHTML = activeData.classes.map(c => `
                    <div class="grid grid-cols-12 p-4 md:p-6 items-center hover:bg-slate-50">
                        <div class="col-span-3 md:col-span-2 text-abn-blue font-bold">${c.time}</div>
                        <div class="col-span-9 md:col-span-10">
                            <span class="font-bold text-slate-800 block">${c.activity}</span>
                            ${c.instructor ? `<span class="text-xs text-slate-500">${c.instructor}</span>` : ''}
                        </div>
                    </div>
                `).join('');
            } else {
                listContainer.innerHTML = '<div class="p-8 text-center text-slate-400">Sem aulas.</div>';
            }
        }

        function setActivePreviewDay(day) {
            activeScheduleDay = day;
            renderSchedulePreview();
        }

        // Detailed Schedule Logic
        function renderDetailedSchedule() {
            // Sidebar
            document.getElementById('schedule-days-sidebar').innerHTML = SCHEDULE.map(d => `
                <button onclick="setActiveDetailedDay('${d.day}')" class="w-full text-left px-4 py-3 rounded-xl font-bold mb-1 transition-all ${activeScheduleDay === d.day ? 'bg-abn-blue text-white' : 'text-slate-600 hover:bg-slate-50'}">
                    ${d.day} <span class="text-xs float-right opacity-70">${d.classes.length} aulas</span>
                </button>
            `).join('');
            
            // Mobile Days
            document.getElementById('schedule-days-mobile').innerHTML = SCHEDULE.map(d => `
                <button onclick="setActiveDetailedDay('${d.day}')" class="inline-block px-5 py-2 mr-2 rounded-full font-bold text-sm ${activeScheduleDay === d.day ? 'bg-abn-blue text-white' : 'bg-slate-100 text-slate-600'}">
                    ${d.day}
                </button>
            `).join('');

            document.getElementById('schedule-active-day-title').innerText = activeScheduleDay;

            // Update Filter Buttons Style
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.dataset.filter === activeScheduleFilter) {
                    btn.className = "filter-btn px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide bg-abn-blue text-white";
                } else {
                    btn.className = "filter-btn px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide bg-white border text-slate-500 hover:bg-slate-50";
                }
            });

            // Filter List
            const activeData = SCHEDULE.find(s => s.day === activeScheduleDay);
            if(!activeData) return;

            const filtered = activeData.classes.filter(c => {
                if(activeScheduleFilter === 'all') return true;
                const lower = c.activity.toLowerCase();
                if(activeScheduleFilter === 'pool' && (lower.includes('natação') || lower.includes('hidro'))) return true;
                if(activeScheduleFilter === 'fight' && (lower.includes('jiu') || lower.includes('muay'))) return true;
                if(activeScheduleFilter === 'fitness' && (!lower.includes('natação') && !lower.includes('hidro') && !lower.includes('jiu') && !lower.includes('muay'))) return true;
                return false;
            });

            const list = document.getElementById('schedule-detailed-list');
            if(filtered.length === 0) {
                list.innerHTML = `<div class="p-12 text-center border-2 border-dashed border-slate-200 rounded-2xl text-slate-400">Nenhuma aula nesta categoria.</div>`;
            } else {
                list.innerHTML = filtered.map(c => `
                    <div class="bg-white rounded-xl p-5 shadow-sm border border-slate-100 border-l-4 ${c.activity.includes('Natação') ? 'border-l-abn-cyan' : 'border-l-abn-blue'} flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full bg-slate-50 flex items-center justify-center text-slate-500 font-bold shrink-0">
                            ${c.time.split(':')[0]}h
                        </div>
                        <div>
                            <h4 class="text-lg font-bold text-slate-800">${c.activity}</h4>
                            <p class="text-sm text-slate-500 flex items-center gap-1">
                                <i data-lucide="user" class="w-3 h-3"></i> ${c.instructor || 'Instrutor da sala'}
                            </p>
                        </div>
                    </div>
                `).join('');
                lucide.createIcons();
            }
        }

        function setActiveDetailedDay(day) {
            activeScheduleDay = day;
            renderDetailedSchedule();
        }

        function setScheduleFilter(filter) {
            activeScheduleFilter = filter;
            renderDetailedSchedule();
        }

        // Plans
        function renderPlans() {
            const container = document.getElementById('plans-container');
            container.innerHTML = PLANS.map((p, idx) => `
                <div class="relative rounded-3xl p-8 transition-all duration-300 fade-up-element ${p.highlight ? 'bg-slate-900 text-white scale-105 border-2 border-abn-cyan z-10 shadow-2xl' : 'bg-slate-50 text-slate-800 border border-slate-100'}" style="transition-delay: ${idx * 100}ms">
                    ${p.highlight ? '<div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-abn-cyan text-white px-4 py-1 rounded-full text-xs font-bold uppercase tracking-wider flex items-center gap-1 shadow-lg"><i data-lucide="star" class="w-3 h-3"></i> Popular</div>' : ''}
                    <div class="mb-6">
                        <h4 class="text-xl font-bold mb-2 ${p.highlight ? 'text-white' : 'text-slate-700'}">${p.title}</h4>
                        <div class="flex items-baseline">
                            <span class="text-sm font-semibold opacity-70 mr-1">R$</span>
                            <span class="text-5xl font-display font-black ${p.highlight ? 'text-abn-cyan' : 'text-slate-900'}">${p.price.split(',')[0]}</span>
                            <span class="text-xl font-bold">,${p.price.split(',')[1]}</span>
                        </div>
                        <p class="text-sm mt-2 opacity-60">cobrado ${p.period}</p>
                    </div>
                    <div class="h-px w-full mb-8 ${p.highlight ? 'bg-slate-700' : 'bg-slate-200'}"></div>
                    <ul class="space-y-4 mb-8">
                        ${p.features.map(f => `
                            <li class="flex items-start gap-3 text-sm">
                                <div class="mt-0.5 rounded-full p-1 ${p.highlight ? 'bg-abn-cyan/20 text-abn-cyan' : 'bg-green-100 text-green-600'}"><i data-lucide="check" class="w-3 h-3"></i></div>
                                <span>${f}</span>
                            </li>
                        `).join('')}
                    </ul>
                    <button onclick="openModal('modal-plans')" class="w-full py-4 rounded-xl font-bold transition-transform hover:scale-105 ${p.highlight ? 'bg-abn-cyan text-white' : 'bg-white border-2 border-slate-200 text-slate-700 hover:border-abn-blue hover:text-abn-blue'}">Ver Detalhes</button>
                </div>
            `).join('');
            
            // Detailed Plans Modal Content
            document.getElementById('detailed-plans-container').innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    ${PLANS.map(p => `
                        <div class="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                             <h4 class="text-xl font-bold text-slate-800 mb-2">${p.title}</h4>
                             <p class="text-sm text-slate-500 mb-4">${p.details}</p>
                             <div class="text-3xl font-black text-abn-blue mb-4">R$ ${p.price}</div>
                             <a href="https://wa.me/5521988300588" target="_blank" class="block w-full text-center bg-abn-orange text-white py-3 rounded-lg font-bold hover:bg-orange-600">Contratar</a>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        // Plans FAQ Accordion
        function renderPlansFAQ() {
            const container = document.getElementById('faq-container');
            container.innerHTML = PLANS_FAQ.map((faq, idx) => `
                <div class="bg-slate-50 rounded-2xl border border-slate-100 transition-all duration-300 hover:shadow-md">
                    <button onclick="toggleFaq(this)" class="w-full text-left p-6 flex items-center justify-between gap-4 focus:outline-none">
                        <h4 class="font-bold text-sm md:text-base flex items-center gap-3 text-slate-800">
                             <span class="flex items-center justify-center w-6 h-6 rounded-full text-xs font-black bg-slate-200 text-slate-500 faq-number">?</span>
                             ${faq.q}
                        </h4>
                        <i data-lucide="chevron-down" class="text-slate-400 transition-transform duration-300 faq-icon w-5 h-5"></i>
                    </button>
                    <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out opacity-0">
                        <p class="px-6 pb-6 pt-0 text-slate-600 text-sm leading-relaxed border-t border-transparent pl-[3.25rem]">
                            ${faq.a}
                        </p>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function toggleFaq(btn) {
            const content = btn.nextElementSibling;
            const icon = btn.querySelector('.faq-icon');
            const number = btn.querySelector('.faq-number');
            const title = btn.querySelector('h4');
            
            // Close others
            document.querySelectorAll('.faq-content').forEach(c => {
                if(c !== content && c.style.maxHeight) {
                    c.style.maxHeight = null;
                    c.classList.remove('opacity-100');
                    c.previousElementSibling.querySelector('.faq-icon').classList.remove('rotate-180', 'text-abn-blue');
                    c.previousElementSibling.querySelector('.faq-number').classList.remove('bg-abn-blue', 'text-white');
                    c.previousElementSibling.querySelector('h4').classList.remove('text-abn-blue');
                }
            });

            // Toggle current
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                content.classList.remove('opacity-100');
                icon.classList.remove('rotate-180', 'text-abn-blue');
                number.classList.remove('bg-abn-blue', 'text-white');
                title.classList.remove('text-abn-blue');
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
                content.classList.add('opacity-100');
                icon.classList.add('rotate-180', 'text-abn-blue');
                number.classList.add('bg-abn-blue', 'text-white');
                title.classList.add('text-abn-blue');
            }
        }

        function renderInfrastructureGallery() {
            document.getElementById('infra-gallery-grid').innerHTML = INFRA_IMAGES.map(img => `
                <div class="group relative h-64 rounded-2xl overflow-hidden shadow-md">
                    <img src="${img.url}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-80"></div>
                    <div class="absolute bottom-4 left-4 text-white">
                        <h4 class="font-bold">${img.title}</h4>
                        <p class="text-xs text-slate-300">${img.desc}</p>
                    </div>
                </div>
            `).join('');
        }

        // --- MODAL SYSTEM ---

        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            if(modalId === 'modal-schedule') renderDetailedSchedule();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.body.style.overflow = 'unset';
        }

        function openActivityModal(id) {
            const act = ACTIVITIES.find(a => a.id === id);
            if(!act) return;

            document.getElementById('modal-act-title').innerText = act.title;
            document.getElementById('modal-act-desc').innerText = act.description;
            document.getElementById('modal-act-image').src = act.image;
            document.getElementById('modal-act-full-desc').innerText = act.fullDescription;
            document.getElementById('modal-act-icon-container').innerHTML = `<i data-lucide="${act.icon}" class="w-6 h-6"></i>`;
            
            document.getElementById('modal-act-benefits').innerHTML = act.benefits.map((b, i) => `
                <div class="flex items-start gap-3"><div class="w-6 h-6 rounded-full bg-abn-light flex items-center justify-center shrink-0 text-abn-blue font-bold text-xs mt-0.5">${i+1}</div><span class="text-sm font-medium text-slate-700">${b}</span></div>
            `).join('');

            if(act.faq) {
                document.getElementById('modal-act-faq-container').innerHTML = `
                    <h3 class="text-2xl font-bold text-slate-800">Dúvidas</h3>
                    ${act.faq.map(f => `<div class="bg-white border border-slate-200 rounded-xl p-4"><h4 class="font-bold text-slate-800 mb-1">${f.q}</h4><p class="text-slate-600 text-sm">${f.a}</p></div>`).join('')}
                `;
            } else {
                document.getElementById('modal-act-faq-container').innerHTML = '';
            }

            lucide.createIcons();
            openModal('modal-activity');
        }

        // --- PDF GENERATION ---
        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Header
            doc.setFontSize(22);
            doc.setTextColor(43, 114, 196); 
            doc.text("ABN Academia", 14, 20);
            
            doc.setFontSize(14);
            doc.setTextColor(80);
            doc.text("Grade de Horários", 14, 28);
            
            doc.setFontSize(10);
            doc.setTextColor(150);
            doc.text(`Gerado em ${new Date().toLocaleDateString('pt-BR')}`, 14, 35);
            
            // Generate Data Rows
            const rows = [];
            SCHEDULE.forEach(day => {
                // Apply current filter logic to PDF
                const filtered = day.classes.filter(item => {
                    if(activeScheduleFilter === 'all') return true;
                    const lower = item.activity.toLowerCase();
                    if(activeScheduleFilter === 'pool' && (lower.includes('natação') || lower.includes('hidro'))) return true;
                    if(activeScheduleFilter === 'fight' && (lower.includes('jiu') || lower.includes('muay'))) return true;
                    if(activeScheduleFilter === 'fitness' && (!lower.includes('natação') && !lower.includes('hidro') && !lower.includes('jiu') && !lower.includes('muay'))) return true;
                    return false;
                });

                if (filtered.length > 0) {
                    filtered.forEach(cls => {
                        rows.push([day.day, cls.time, cls.activity, cls.instructor || '-']);
                    });
                }
            });

            doc.autoTable({
                startY: 45,
                head: [['Dia', 'Horário', 'Atividade', 'Instrutor']],
                body: rows,
                theme: 'grid',
                headStyles: { fillColor: [43, 114, 196], textColor: 255 },
                styles: { fontSize: 10, cellPadding: 3, valign: 'middle' },
                columnStyles: {
                    0: { fontStyle: 'bold', width: 30 },
                    1: { fontStyle: 'bold', width: 25 },
                    2: { width: 70 },
                    3: { width: 60 }
                }
            });

            doc.save('grade-abn.pdf');
        }

    </script>
</body>
</html>